*******************************
FUNCTION MSG( TXT,ESP,CLR,COR )
*******************************

PRIVATE CMS,CLM,TLA,TEC

CMS=SETCOLOR()

IF PCOUNT()<1
   TXT="Aperte uma tecla para continuar ..."
   CLR:=COR:="W+/G"
   ESP=.T.
ENDIF

IF VALTYPE(ESP)#"L"
   ESP=.F.
ENDIF

IF VALTYPE(CLR)#"C"
   CLR="W+/G"
ENDIF

IF VALTYPE(COR)#"C"
   COR=CLR
ENDIF

SETCOLOR(CLR)
CLM=CENTRA(TXT)
TLA=SAVESCREEN(INT(MAXROW()/2)-1,00,INT(MAXROW()/2)+1,MAXCOL())
JANELA(INT(MAXROW()/2)-1,CLM-2,INT(MAXROW()/2)+1,CLM+LEN(TXT)+1)
@ INT(MAXROW()/2),CLM-1 CLEAR TO INT(MAXROW()/2),CLM+LEN(TXT)
SETCOLOR(COR)
@ INT(MAXROW()/2),CLM SAY TXT
SETCOLOR(CMS)
IF ESP
   TEC=INKEY(0)
   RESTSCREEN(INT(MAXROW()/2)-1,00,INT(MAXROW()/2)+1,MAXCOL(),TLA)
   RETURN(TEC)
ELSE
   RETURN(TLA)
ENDIF
